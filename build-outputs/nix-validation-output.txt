[0;34mℹ[0m Nix version: nix (Nix) 2.31.2

[0;34m═══════════════════════════════════════════════════════════[0m
[0;34mPHASE 1: Mojo Runtime Foundation[0m
[0;34m═══════════════════════════════════════════════════════════[0m

[1;33m[TEST 1][0m nix build .#mojo-runtime
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;32m✓ PASS[0m: mojo-runtime builds successfully
[1;33m[TEST 2][0m nix develop .#mojo-runtime --command mojo --version
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;32m✓ PASS[0m: mojo-runtime dev shell works and mojo is accessible
[1;33m[TEST 3][0m Verify mojo executable in build output
[0;31m✗ FAIL[0m: mojo executable not found or not executable

[0;34m═══════════════════════════════════════════════════════════[0m
[0;34mPHASE 2: Library Flakes[0m
[0;34m═══════════════════════════════════════════════════════════[0m

[1;33m[TEST 4][0m nix build path:./nix/flakes/mojo-pattern-search
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;32m✓ PASS[0m: mojo-pattern-search builds successfully
./scripts/validate-nix-flakes.sh: line 48: nix/validation-results.txt: No such file or directory
./scripts/validate-nix-flakes.sh: line 49: nix/validation-results.txt: No such file or directory
[1;33m[TEST 5][0m Verify pattern_search_ffi export
./scripts/validate-nix-flakes.sh: line 42: nix/validation-results.txt: No such file or directory
[0;31m✗ FAIL[0m: pattern_search_ffi export not found
./scripts/validate-nix-flakes.sh: line 55: nix/validation-results.txt: No such file or directory
./scripts/validate-nix-flakes.sh: line 56: nix/validation-results.txt: No such file or directory
./scripts/validate-nix-flakes.sh: line 57: nix/validation-results.txt: No such file or directory
[1;33m[TEST 6][0m nix build path:./nix/flakes/mojo-message-router
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;32m✓ PASS[0m: mojo-message-router builds successfully
./scripts/validate-nix-flakes.sh: line 48: nix/validation-results.txt: No such file or directory
./scripts/validate-nix-flakes.sh: line 49: nix/validation-results.txt: No such file or directory
[1;33m[TEST 7][0m Verify message router FFI exports
./scripts/validate-nix-flakes.sh: line 42: nix/validation-results.txt: No such file or directory
[0;31m✗ FAIL[0m: Only 0/3 FFI exports found
./scripts/validate-nix-flakes.sh: line 55: nix/validation-results.txt: No such file or directory
./scripts/validate-nix-flakes.sh: line 56: nix/validation-results.txt: No such file or directory
./scripts/validate-nix-flakes.sh: line 57: nix/validation-results.txt: No such file or directory

[0;34m═══════════════════════════════════════════════════════════[0m
[0;34mPHASE 3: Root Integration[0m
[0;34m═══════════════════════════════════════════════════════════[0m

[1;33m[TEST 8][0m nix build .#mojo-libraries
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;32m✓ PASS[0m: mojo-libraries unified package builds successfully
[1;33m[TEST 9][0m nix develop --command bash -c 'mojo --version'
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;32m✓ PASS[0m: Default devShell works with Mojo accessible
[1;33m[TEST 10][0m nix develop .#mojo-dev --command bash -c 'mojo --version'
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;32m✓ PASS[0m: Dedicated mojo-dev shell works
[1;33m[TEST 11][0m Verify MOJO_LIB_PATH environment variable
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;31m✗ FAIL[0m: MOJO_LIB_PATH not set correctly
[1;33m[TEST 12][0m nix flake check
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;32m✓ PASS[0m: All flakes are valid (nix flake check passed)

[0;34m═══════════════════════════════════════════════════════════[0m
[0;34mPHASE 4: Complete Validation[0m
[0;34m═══════════════════════════════════════════════════════════[0m

[1;33m[TEST 13][0m Verify library file sizes
[0;31m✗ FAIL[0m: libpattern_search.so not found in result
[1;33m[TEST 14][0m Verify FFI exports are defined symbols
[0;31m✗ FAIL[0m: Some FFI exports may be undefined
[1;33m[TEST 15][0m Verify build reproducibility
[0;34mℹ[0m Testing deterministic builds...
[0;31m✗ FAIL[0m: Build reproducibility test inconclusive
[1;33m[TEST 16][0m Verify documentation exists
[0;32m✓ PASS[0m: All 3 flakes have README.md documentation
[1;33m[TEST 17][0m Verify flake metadata
error: experimental Nix feature 'nix-command' is disabled; add '--extra-experimental-features nix-command' to enable it
[0;31m✗ FAIL[0m: Flake metadata missing or incorrect

[0;34m════════════════════════════════════════════════════════════[0m
[0;34mVALIDATION SUMMARY[0m
[0;34m════════════════════════════════════════════════════════════[0m

Total Tests: 17
[0;32mPassed: 9[0m
[0;31mFailed: 8[0m

[0;31m✗ 8 test(s) failed. Review results above.[0m

Results saved to: nix/validation-results.txt
